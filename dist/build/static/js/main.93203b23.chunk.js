(this["webpackJsonpreql-admin"]=this["webpackJsonpreql-admin"]||[]).push([[0],{149:function(e,t,n){e.exports=n(262)},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},251:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setTitle",(function(){return $})),n.d(a,"forceReload",(function(){return G})),n.d(a,"setRethink",(function(){return P}));var r=n(0),c=n.n(r),o=n(3),l=n.n(o),i=n(23),s=n(4),u=n.n(s),d=n(10),f=n(54),m=n(46),b=n(8),p=n(11),v=n(267),h=n(263),g=n(268),E=n(264),k=n(265),O=(n(164),n(165),n(166),n(167),function(){return c.a.createElement("div",{className:"loader__container"},c.a.createElement("div",{className:"loader"}))}),j=v.a.SubMenu,y=h.a.Sider,x={name:""},w={name:""},N=Object(i.b)()((function(e){var t=Object(r.useState)(!0),n=Object(p.a)(t,2),a=n[0],o=n[1],l=Object(r.useState)([]),i=Object(p.a)(l,2),s=i[0],N=i[1],C=Object(r.useState)(!1),R=Object(p.a)(C,2),S=R[0],D=R[1],B=Object(r.useState)(!1),F=Object(p.a)(B,2),T=F[0],A=F[1],_=Object(r.useState)(x),I=Object(p.a)(_,2),L=I[0],U=I[1],V=Object(r.useState)(!1),J=Object(p.a)(V,2),K=J[0],W=J[1],z=Object(r.useState)(!1),M=Object(p.a)(z,2),Y=M[0],q=M[1],Q=Object(r.useState)(w),H=Object(p.a)(Q,2),$=H[0],G=H[1],P=Object(r.useState)(!1),X=Object(p.a)(P,2),Z=X[0],ee=X[1],te=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ee(!0),t.prev=1,t.next=4,e.rethink.client.dbCreate($.name).run(e.rethink.connection);case 4:if(0!==t.sent.dbs_created){t.next=8;break}return ee(!1),t.abrupt("return",g.a.error("Database could not be created."));case 8:return t.next=10,re();case 10:return g.a.success("Database was created."),q(!1),G(w),ee(!1),t.abrupt("return",!0);case 17:t.prev=17,t.t0=t.catch(1),console.log(t.t0);case 20:return ee(!1),g.a.error("Database could not be created."),t.abrupt("return",!1);case 23:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}(),ne=function(e){D(e),A(!0)},ae=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W(!0),t.prev=1,t.next=4,e.rethink.client.db(S).tableCreate(L.name).run(e.rethink.connection);case 4:if(0!==t.sent.tables_created){t.next=8;break}return W(!1),t.abrupt("return",g.a.error("Table could not be created."));case 8:return t.next=10,re();case 10:return g.a.success("Table was created."),A(!1),D(!1),U(x),W(!1),t.abrupt("return",!0);case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0);case 21:return W(!1),g.a.error("Table could not be created."),t.abrupt("return",!1);case 24:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,c,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.rethink.client.dbList().run(e.rethink.connection);case 3:return n=t.sent,t.next=6,n.toArray();case 6:a=t.sent,r=[],c=0;case 9:if(!(c<a.length)){t.next=20;break}return t.next=12,e.rethink.client.db(a[c]).tableList().run(e.rethink.connection);case 12:return o=t.sent,t.next=15,o.toArray();case 15:l=t.sent,r.push({name:a[c],tables:l});case 17:c++,t.next=9;break;case 20:return t.abrupt("return",N(r));case 23:t.prev=23,t.t0=t.catch(0),console.log(t.t0);case 26:N([]);case 27:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(){return t.apply(this,arguments)}}();if(Object(r.useEffect)((function(){!0===e.rethink.connected&&(re(),o(!1))}),[e.rethink.connected]),Object(r.useEffect)((function(){console.log("Reloading"),re()}),[e.forceReloadKey]),a)return c.a.createElement(O,null);var ce=[],oe=s.map((function(e,t){if(ce.push(t.toString()),"rethinkdb"!==e.name)return c.a.createElement(j,{key:t,title:e.name},c.a.createElement(v.a.Item,{onClick:ne.bind(void 0,e.name),key:e.name+"-add"},c.a.createElement("i",{className:"fas fa-plus-circle"}),"\xa0\xa0 Create Table"),e.tables.map((function(t,n){return c.a.createElement(v.a.Item,{onClick:function(){return Object(f.navigate)("/database/".concat(e.name,"/table/").concat(t))},key:n},c.a.createElement("i",{className:"fas fa-table"}),"\xa0\xa0",t)})))}));return c.a.createElement("div",{className:"root"},c.a.createElement(h.a,{className:"layout__root"},c.a.createElement(y,{className:"site-layout-background"},c.a.createElement("div",{className:"logo"},"ReQL Admin"),c.a.createElement(v.a,{openKeys:ce,mode:"inline",theme:"dark",className:"layout__navigation",selectable:!1},oe),c.a.createElement("div",{className:"action-button",onClick:function(){q(!0)}.bind(void 0)},c.a.createElement("i",{className:"fas fa-plus-circle"}),"\xa0\xa0 Create Database")),c.a.createElement(h.a,{className:"layout__content"},e.children)),c.a.createElement(E.a,{title:"Create Database",visible:Y,onOk:te.bind(void 0),onCancel:function(){q(!1),G(w)}.bind(void 0),confirmLoading:Z},c.a.createElement(k.a,{value:$.name,onChange:function(e){return t="name",n=e.target.value,void G(Object(b.a)({},$,Object(m.a)({},t,n)));var t,n},placeholder:"Database Name",style:{marginBottom:15}})),c.a.createElement(E.a,{title:"".concat(S," / Create Table"),visible:T,onOk:ae.bind(void 0),onCancel:function(){A(!1),D(!1),U(x)}.bind(void 0),confirmLoading:K},c.a.createElement(k.a,{value:L.name,onChange:function(e){return t="name",n=e.target.value,void U(Object(b.a)({},L,Object(m.a)({},t,n)));var t,n},placeholder:"Table Name",style:{marginBottom:15}})))})),C=Object(i.b)()((function(e){return c.a.createElement("div",null,"Home")})),R=n(22),S=n(43),D=n.n(S),B={csv:function(e){for(var t="object"!=typeof e?JSON.parse(e):e,n="",a=0;a<t.length;a++){var r="";for(var c in t[a])""!=r&&(r+=","),r+='"'.concat(t[a][c],'"');n+=r+"\r\n"}return n},export:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;t&&"csv"===e&&n.unshift(t);var r="".concat(a||"export",".").concat(e),c="csv"===e?this.csv(JSON.stringify(n)):JSON.stringify(n),o="csv"===e?"text/csv":"application/json",l=new Blob([c],{type:o+";charset=utf-8;"});if(navigator.msSaveBlob)return navigator.msSaveBlob(l,r);var i=document.createElement("a");if(void 0!==i.download){var s=URL.createObjectURL(l);i.setAttribute("href",s),i.setAttribute("download",r),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},F=Object.create(B),T=n(266),A=n(82),_=n(270),I=n(269),L=n(271),U=(n(251),{originalField:"",field:"",value:""}),V={type:"field",collection:"",path:!1,fields:[{field:"",value:""}]},J={id:"",fields:[{field:"",value:""}]},K=T.a.Option,W=Object(i.b)()((function(e){var t=e.database,n=e.table,a=Object(r.useState)(!0),o=Object(p.a)(a,2),l=o[0],i=o[1],s=Object(r.useState)([]),v=Object(p.a)(s,2),h=v[0],j=v[1],y=Object(r.useState)(!1),x=Object(p.a)(y,2),w=x[0],N=x[1],C=Object(r.useState)(!1),S=Object(p.a)(C,2),B=S[0],W=S[1],z=Object(r.useState)(U),M=Object(p.a)(z,2),Y=M[0],q=M[1],Q=Object(r.useState)(!1),H=Object(p.a)(Q,2),$=H[0],G=H[1],P=Object(r.useState)(V),X=Object(p.a)(P,2),Z=X[0],ee=X[1],te=Object(r.useState)(!1),ne=Object(p.a)(te,2),ae=ne[0],re=ne[1],ce=Object(r.useState)(J),oe=Object(p.a)(ce,2),le=oe[0],ie=oe[1],se=function(e,t){var n=h;n[e]=t,j(Object(R.a)(n)),N(n[e])},ue=function(e){var t=h;t.splice(e,1),j(Object(R.a)(t)),N(!1)},de=function(e){N(h[e])},fe=function(){ie(J),re(!1)},me=function(e){var t=le.fields;t.splice(e,1),ie(Object(b.a)({},Y,{fields:Object(R.a)(t)}))},be=function(e,t){if("id"===e)ie(Object(b.a)({},le,{id:t}));else{var n=le.fields;n[e].value=t,ie(Object(b.a)({},le,{fields:Object(R.a)(n)}))}},pe=function(e){q({originalField:e,field:e,value:e.includes(".")?D.a.get(w,e):w[e]}),W(!0)},ve=function(){q(U),W(!1)},he=function(e,t){q(Object(b.a)({},Y,Object(m.a)({},e,t)))},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ee(Object(b.a)({},Z,{path:"string"===typeof e&&e})),G(!0)},Ee=function(){ee(V),G(!1)},ke=function(e){var t=Z.fields;t.splice(e,1),ee(Object(b.a)({},Z,{fields:Object(R.a)(t)}))},Oe=function(e,t){if("type"===e)ee("field"===t?Object(b.a)({},Z,{type:t,fields:[{field:"",value:""}]}):Object(b.a)({},Z,{type:t}));else if("collection"===e)ee(Object(b.a)({},Z,{collection:t}));else{var n=Z.fields;n[e].value=t,ee(Object(b.a)({},Z,{fields:Object(R.a)(n)}))}},je=function(){var n=Object(d.a)(u.a.mark((function n(a){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.rethink.client.db(t).tableDrop(a).run(e.rethink.connection);case 3:if(0!==n.sent.tables_dropped){n.next=6;break}return n.abrupt("return",g.a.error("Error removing table"));case 6:return e.forceReload(),Object(f.navigate)("/"),g.a.success("Table was removed"),n.abrupt("return",!0);case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:return g.a.error("There was an error"),n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),ye=function(){var a=Object(d.a)(u.a.mark((function a(){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.rethink.client.db(t).table(n).get(w.id).delete().run(e.rethink.connection);case 3:if(0!==a.sent.deleted){a.next=6;break}return a.abrupt("return",g.a.error("Unable to remove document."));case 6:if(void 0!==(r=h.findIndex((function(e){return e.id===w.id})))&&null!==r&&!1!==r){a.next=10;break}return console.log("Could not determine index."),a.abrupt("return",!1);case 10:return ue(r),g.a.success("Document was removed"),a.abrupt("return",!0);case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0);case 18:return g.a.error("There was an error"),a.abrupt("return",!1);case 20:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(){return a.apply(this,arguments)}}(),xe=function(){var a=Object(d.a)(u.a.mark((function a(){var r,c,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=le,c={},o=0;case 3:if(!(o<r.fields.length)){a.next=10;break}if(r.fields[o].field){a.next=6;break}return a.abrupt("return",g.a.error("Field name must have a value."));case 6:c[r.fields[o].field]=r.fields[o].value;case 7:o++,a.next=3;break;case 10:return r.id&&(c.id=r.id),a.prev=11,a.next=14,e.rethink.client.db(t).table(n).insert(c).run(e.rethink.connection);case 14:if(0!==a.sent.inserted){a.next=17;break}return a.abrupt("return",g.a.error("Unable to create document."));case 17:return a.next=19,Se();case 19:return fe(),g.a.success("Document was created"),a.abrupt("return",!0);case 24:a.prev=24,a.t0=a.catch(11),console.log(a.t0);case 27:return g.a.error("There was an error"),a.abrupt("return",!1);case 29:case"end":return a.stop()}}),a,null,[[11,24]])})));return function(){return a.apply(this,arguments)}}(),we=function(){var a=Object(d.a)(u.a.mark((function a(){var r,c,o,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Y.field,c=w,Y.originalField!==Y.field&&(c=D.a.omit(c,Y.originalField)),r.includes(".")?c=D.a.set(c,r,Y.value):c[r]=Y.value,a.prev=4,a.next=7,e.rethink.client.db(t).table(n).filter({id:w.id}).replace(c).run(e.rethink.connection);case 7:if(0!==a.sent.replaced){a.next=10;break}return a.abrupt("return",g.a.error("Unable to update field."));case 10:if(void 0!==(o=h.findIndex((function(e){return e.id===w.id})))&&null!==o&&!1!==o){a.next=14;break}return console.log("Could not determine index."),a.abrupt("return",!1);case 14:return a.next=16,Re(w.id);case 16:return l=a.sent,se(o,l),ve(),g.a.success("Field was updated"),a.abrupt("return",!0);case 23:a.prev=23,a.t0=a.catch(4),console.log(a.t0);case 26:return g.a.error("There was an error"),a.abrupt("return",!1);case 28:case"end":return a.stop()}}),a,null,[[4,23]])})));return function(){return a.apply(this,arguments)}}(),Ne=function(){var a=Object(d.a)(u.a.mark((function a(){var r,c,o,l,i,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=w,"collection"===Z.type)for(c=(Z.path?Z.path+".":"")+Z.collection,o=0;o<Z.fields.length;o++)r=D.a.set(r,"".concat(c,".").concat(Z.fields[o].field),Z.fields[o].value);else l=Z.path?Z.path+".":"",Z.fields.length&&(r=D.a.set(r,"".concat(l).concat(Z.fields[0].field),Z.fields[0].value));return a.prev=2,a.next=5,e.rethink.client.db(t).table(n).filter({id:w.id}).update(r).run(e.rethink.connection);case 5:if(0!==a.sent.replaced){a.next=8;break}return a.abrupt("return",g.a.error("Unable to add field."));case 8:if(void 0!==(i=h.findIndex((function(e){return e.id===w.id})))&&null!==i&&!1!==i){a.next=12;break}return console.log("Could not determine index."),a.abrupt("return",!1);case 12:return a.next=14,Re(w.id);case 14:return s=a.sent,se(i,s),Ee(),g.a.success("Field was added"),a.abrupt("return",!0);case 21:a.prev=21,a.t0=a.catch(2),console.log(a.t0);case 24:return g.a.error("There was an error"),a.abrupt("return",!1);case 26:case"end":return a.stop()}}),a,null,[[2,21]])})));return function(){return a.apply(this,arguments)}}(),Ce=function(){var a=Object(d.a)(u.a.mark((function a(r){var c,o,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=w,D.a.unset(c,r),a.prev=2,a.next=5,e.rethink.client.db(t).table(n).filter({id:w.id}).replace(Object(b.a)({},c)).run(e.rethink.connection);case 5:if(0!==a.sent.replaced){a.next=8;break}return a.abrupt("return",g.a.error("Unable to remove field."));case 8:if(void 0!==(o=h.findIndex((function(e){return e.id===w.id})))&&null!==o&&!1!==o){a.next=12;break}return console.log("Could not determine index."),a.abrupt("return",!1);case 12:return a.next=14,Re(w.id);case 14:return l=a.sent,se(o,l),g.a.success("Field was removed"),a.abrupt("return",!0);case 20:a.prev=20,a.t0=a.catch(2),console.log(a.t0);case 23:return g.a.error("There was an error"),a.abrupt("return",!1);case 25:case"end":return a.stop()}}),a,null,[[2,20]])})));return function(e){return a.apply(this,arguments)}}(),Re=function(){var a=Object(d.a)(u.a.mark((function a(r){var c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.rethink.client.db(t).table(n).get(r).run(e.rethink.connection);case 3:if(null!==(c=a.sent)){a.next=6;break}return a.abrupt("return",!1);case 6:return a.abrupt("return",c);case 9:return a.prev=9,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",!1);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}(),Se=function(){var a=Object(d.a)(u.a.mark((function a(){var r,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.rethink.client.db(t).table(n).limit(1e3).run(e.rethink.connection);case 3:return r=a.sent,a.next=6,r.toArray();case 6:return c=a.sent,j(c),De(),a.abrupt("return",i(!1));case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0);case 15:j([]);case 16:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(){return a.apply(this,arguments)}}(),De=function(){var a=Object(d.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return void 0,a.prev=1,a.next=4,e.rethink.client.db(t).table(n).changes({includeInitial:!0,includeTypes:!0}).run(e.rethink.connection,(function(e,t){if(e)return console.log(e);t.each((function(e,t){Be(t)}))}));case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[1,6]])})));return function(){return a.apply(this,arguments)}}(),Be=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("change"!==t.type){e.next=8;break}if(n=t.new_val,t.old_val,void 0!==(a=h.findIndex((function(e){return e.id===t.id})))&&null!==a&&!1!==a){e.next=7;break}return console.log("Could not determine index."),e.abrupt("return",!1);case 7:se(a,n);case 8:t.type,t.type;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=D.a.get(w,t);return c.a.createElement("li",{key:a},c.a.createElement("span",{className:"field"},t),": ",o instanceof Array||o instanceof Object?"":'"'.concat(o,'"'),c.a.createElement("div",{className:"options"},r.length?c.a.createElement(A.a,{title:"Add Field",placement:"bottom"},c.a.createElement("i",{onClick:ge.bind(void 0,t),className:"fas fa-plus icon"})):c.a.createElement(A.a,{title:"Edit",placement:"bottom"},c.a.createElement("i",{onClick:pe.bind(void 0,t),className:"fas fa-pencil-alt icon"})),c.a.createElement(_.a,{title:"Are you sure delete this field?",onConfirm:Ce.bind(void 0,t),onCancel:function(){return console.log("canceled")},okText:"Yes",cancelText:"No",placement:"bottomRight"},c.a.createElement(A.a,{title:"Delete",placement:"bottomRight"},c.a.createElement("i",{className:"fas fa-trash icon"})))),r.length?c.a.createElement("ul",{className:"child"},r):"")};if(Object(r.useEffect)((function(){!0===e.rethink.connected&&(Se(),N(!1))}),[e.rethink.connected,n]),l)return c.a.createElement(O,null);var Te=h.map((function(e,t){return{id:e.id,key:t}})),Ae=h.length?Object.keys(h[0]).map((function(e){return e})):{};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"database-table__container"},c.a.createElement("div",{className:"items"},c.a.createElement("div",{className:"title"},c.a.createElement("i",{className:"fas fa-table"}),"\xa0\xa0",n,c.a.createElement("div",{className:"options"},c.a.createElement(A.a,{title:"Import File"},c.a.createElement("i",{className:"fas fa-file-import icon"})),c.a.createElement(A.a,{title:"Export Table"},c.a.createElement("i",{onClick:function(){return F.export("json",Ae,h,n)},className:"fas fa-file-export icon"})),c.a.createElement(_.a,{title:"Are you sure delete this table?",onConfirm:je.bind(void 0,n),onCancel:function(){return console.log("canceled")},okText:"Yes",cancelText:"No",placement:"bottomRight"},c.a.createElement(A.a,{title:"Delete Table"},c.a.createElement("i",{className:"fas fa-trash icon"}))))),c.a.createElement("div",{className:"add",onClick:function(){re(!0)}.bind(void 0)},c.a.createElement("i",{className:"fas fa-plus-circle"}),"\xa0\xa0 Add Document"),c.a.createElement("ul",null,Te.map((function(e,t){var n=!1;return!1!==w&&w.id===e.id&&(n=!0),c.a.createElement("li",{key:t,className:n?"selected":"",onClick:de.bind(void 0,t)},e.id,c.a.createElement("i",{className:"fas fa-angle-right icon"}))})))),c.a.createElement("div",{className:"information"},w&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"title"},c.a.createElement("i",{className:"fas fa-align-justify"}),"\xa0\xa0 ",w.id,c.a.createElement("div",{className:"options"},c.a.createElement(_.a,{title:"Are you sure delete this document?",onConfirm:ye.bind(void 0),onCancel:function(){return console.log("canceled")},okText:"Yes",cancelText:"No",placement:"bottomRight"},c.a.createElement(A.a,{title:"Delete Document",placement:"bottomRight"},c.a.createElement("i",{className:"fas fa-trash icon"}))))),c.a.createElement("div",{className:"add",onClick:ge.bind(void 0)},c.a.createElement("i",{className:"fas fa-plus-circle"}),"\xa0\xa0 Add Field"),c.a.createElement("ul",null,function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).map((function(a,r){var o=[],l=[];return"object"===typeof t[a]?(l=e(t[a],n?"".concat(n,".").concat(a):a),o=Fe(t,n?"".concat(n,".").concat(a):a,"",r,l)):o=Fe(t,n?"".concat(n,".").concat(a):a,t[a],r),c.a.createElement(c.a.Fragment,null,o)}))}(w))))),c.a.createElement(E.a,{title:"Create Document",visible:ae,onOk:xe.bind(void 0),onCancel:fe.bind(void 0)},c.a.createElement(I.a,null,c.a.createElement(L.a,{span:24,className:"modal-row"},c.a.createElement(k.a,{addonBefore:"ID",value:le.id,onChange:function(e){return be("id",e.target.value)},placeholder:"Document ID (Leave blank to generate)",style:{marginBottom:15}}))),le.fields.map((function(e,t){return c.a.createElement(I.a,null,c.a.createElement(L.a,{span:11,className:"modal-row"},c.a.createElement(k.a,{addonBefore:"Field",value:e.field,onChange:function(e){return function(e,t){var n=le.fields;n[e].field=t,ie(Object(b.a)({},le,{fields:Object(R.a)(n)}))}(t,e.target.value)},placeholder:"Field",style:{marginBottom:15}})),c.a.createElement(L.a,{span:11,className:"modal-row"},c.a.createElement(k.a,{addonBefore:"Value",value:e.value,onChange:function(e){return be(t,e.target.value)},placeholder:"Value",style:{marginBottom:15}})),c.a.createElement(L.a,{span:2,style:{padding:5,textAlign:"right"}},c.a.createElement("i",{style:{cursor:"pointer"},onClick:me.bind(void 0,t),className:"fas fa-trash icon"})))})),c.a.createElement(I.a,null,c.a.createElement(L.a,{span:24,className:"modal-row"},c.a.createElement("span",{className:"add-row",onClick:function(){var e=le.fields;e.push({field:"",value:""}),ie(Object(b.a)({},le,{fields:Object(R.a)(e)}))}.bind(void 0)},"Add Field")))),c.a.createElement(E.a,{title:"Add Field",visible:$,onOk:Ne.bind(void 0),onCancel:Ee.bind(void 0)},c.a.createElement(I.a,null,c.a.createElement(L.a,{span:24,className:"modal-row"},c.a.createElement(T.a,{style:{width:"100%"},defaultValue:Z.type,onChange:function(e){return Oe("type",e)}},c.a.createElement(K,{value:"field"},"Field"),c.a.createElement(K,{value:"collection"},"Collection"))),c.a.createElement("hr",null)),"collection"===Z.type?c.a.createElement(I.a,null,c.a.createElement(L.a,{span:24,className:"modal-row"},c.a.createElement(k.a,{addonBefore:"Collection Name",value:Z.collection,onChange:function(e){return Oe("collection",e.target.value)},placeholder:"Collection",style:{marginBottom:15}}))):null,Z.fields.map((function(e,t){return c.a.createElement(I.a,null,c.a.createElement(L.a,{span:"collection"===Z.type?11:12,className:"modal-row"},c.a.createElement(k.a,{addonBefore:Z.path?c.a.createElement("span",null,Z.path,".",Z.collection?"".concat(Z.collection,"."):"","`"):"Field",value:e.field,onChange:function(e){return function(e,t){var n=Z.fields;n[e].field=t,ee(Object(b.a)({},Z,{fields:Object(R.a)(n)}))}(t,e.target.value)},placeholder:"Field",style:{marginBottom:15}})),c.a.createElement(L.a,{span:"collection"===Z.type?11:12,className:"modal-row"},c.a.createElement(k.a,{addonBefore:"Value",value:e.value,onChange:function(e){return Oe(t,e.target.value)},placeholder:"Value",style:{marginBottom:15}})),"collection"===Z.type?c.a.createElement(L.a,{span:2,style:{padding:5,textAlign:"right"}},c.a.createElement("i",{style:{cursor:"pointer"},onClick:ke.bind(void 0,t),className:"fas fa-trash icon"})):null)})),"collection"===Z.type?c.a.createElement(I.a,null,c.a.createElement(L.a,{span:24,className:"modal-row"},c.a.createElement("span",{className:"add-row",onClick:function(){var e=Z.fields;e.push({field:"",value:""}),ee(Object(b.a)({},Z,{fields:Object(R.a)(e)}))}.bind(void 0)},"Add Field"))):null),c.a.createElement(E.a,{title:"Edit Field",visible:B,onOk:we.bind(void 0),onCancel:ve.bind(void 0)},c.a.createElement(I.a,null,c.a.createElement(L.a,{span:12,className:"modal-row"},c.a.createElement(k.a,{addonBefore:"Field",value:Y.field,onChange:function(e){return he("field",e.target.value)},placeholder:"Field",style:{marginBottom:15}})),c.a.createElement(L.a,{span:12,className:"modal-row"},c.a.createElement(k.a,{addonBefore:"Value",value:Y.value,onChange:function(e){return he("value",e.target.value)},placeholder:"Value",style:{marginBottom:15}})))))})),z={"/":function(){return c.a.createElement(C,null)},"/database/:database/table/:table":function(e){var t=e.database,n=e.table;return c.a.createElement(W,{database:t,table:n})}},M=n(81),Y=n.n(M),q={path:"/rethink",secure:!1,delayedReconnection:0,reconnectOnDisconnect:!0,client:!1,connection:!1,error:!1,connected:!1,events:{},initialize:function(){var e=arguments,t=this;return Object(d.a)(u.a.mark((function n(){var a,r,c,o,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0!==(a=e.length>0&&void 0!==e[0]?e[0]:{}).delayedReconnection&&(t.delayedReconnection=a.delayedReconnection),void 0!==a.reconnectOnDisconnect&&(t.reconnectOnDisconnect=a.reconnectOnDisconnect),r=window.location.host.split(":"),c=r[0],"8888",o={host:c,port:"8888",path:t.path,secure:t.secure},n.next=9,t.connect(o);case 9:if(l=n.sent){n.next=12;break}return n.abrupt("return",!1);case 12:return t.client=M.rethinkdb,t.connection=l,t.connected=!0,t.useEvents(),n.abrupt("return",{client:t.client,connection:t.connection,error:t.error,connected:t.connected});case 17:case"end":return n.stop()}}),n)})))()},connect:function(e){var t=this;return Object(d.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Y.a.connect({host:e.host,port:e.port,path:e.path,secure:e.secure});case 3:return a=n.sent,console.log("RethinkDB Connected"),n.abrupt("return",a);case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),t.error=n.t0;case 12:return n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})))()},reconnect:function(){var e=this,t=1e3*this.delayedReconnection;console.log("Reconnecting in ".concat(t," seconds.")),setTimeout((function(){"function"===typeof e.events.onReconnecting&&e.events.onReconnecting(),e.initialize()}),t)},setEvents:function(e){e.onClose&&(this.events.onClose=e.onClose)},useEvents:function(){var e=this,t=this;this.connection.on("open",(function(){console.log("Rethink WebSocket Open"),"function"===typeof t.events.onOpen&&t.events.onOpen()})),this.connection.on("error",(function(n){console.log("Rethink Websocket Error: ",n),e.reconnectOnDisconnect&&t.reconnect()})),this.connection.on("close",(function(){console.log("RethinkDB disconnected."),e.reconnectOnDisconnect&&t.reconnect(),"function"===typeof t.events.onClose&&t.events.onClose()}))}},Q=Object.create(q),H=Object(i.b)()((function(e){var t=Object(f.useRoutes)(z),n=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.initialize();case 2:n=t.sent,console.log(n),!0===n.connected&&e.setRethink(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){n()}),[]),c.a.createElement(N,null,t)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=function(e){return function(t){return{title:e}}},G=function(){return function(e){return{forceReloadKey:Math.floor(1e4*Math.random()+1)}}},P=function(e){return function(t){return{rethink:e}}},X=Object(b.a)({title:"ReQL Admin",rethink:{client:!1,connected:!1,error:!1},forceReloadKey:0},a);l.a.render(c.a.createElement(i.a,X,c.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[149,1,2]]]);
//# sourceMappingURL=main.93203b23.chunk.js.map